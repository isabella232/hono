<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1081.2" height="369.6" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1081px;height:369px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1081 369" zoomAndPan="magnify"><defs><filter id="f1qbr6ythy67tc" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="216.956" x="318.6" y="83.316" fill="#FFF" filter="url(#f1qbr6ythy67tc)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="81.919" x="977.4" y="118.275" fill="#FFF" filter="url(#f1qbr6ythy67tc)"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="48" x2="48" y1="45.956" y2="321.872"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="324" x2="324" y1="45.956" y2="321.872"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="983.4" x2="983.4" y1="45.956" y2="321.872"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="9.6" y="3.6" fill="#FEFECE" filter="url(#f1qbr6ythy67tc)"/><text x="18" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="9.6" y="320.672" fill="#FEFECE" filter="url(#f1qbr6ythy67tc)"/><text x="18" y="344.666" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="135.6" height="36.356" x="254.4" y="3.6" fill="#FEFECE" filter="url(#f1qbr6ythy67tc)"/><text x="262.8" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="118.8">MQTT Adapter</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="135.6" height="36.356" x="254.4" y="320.672" fill="#FEFECE" filter="url(#f1qbr6ythy67tc)"/><text x="262.8" y="344.666" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="118.8">MQTT Adapter</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="175.2" height="36.356" x="893.4" y="3.6" fill="#FEFECE" filter="url(#f1qbr6ythy67tc)"/><text x="901.8" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="158.4">Credentials Service</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="175.2" height="36.356" x="893.4" y="320.672" fill="#FEFECE" filter="url(#f1qbr6ythy67tc)"/><text x="901.8" y="344.666" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="158.4">Credentials Service</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="216.956" x="318.6" y="83.316" fill="#FFF" filter="url(#f1qbr6ythy67tc)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="81.919" x="977.4" y="118.275" fill="#FFF" filter="url(#f1qbr6ythy67tc)"/><polygon fill="#A80036" points="304.2 78.516 316.2 83.316 304.2 88.116 309 83.316" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="48.6" x2="311.4" y1="83.316" y2="83.316"/><text x="57" y="77.237" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="247.2">CONNECT(username, password)</text><polygon fill="#A80036" points="963 113.475 975 118.275 963 123.075 967.8 118.275" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="330.6" x2="970.2" y1="118.275" y2="118.275"/><text x="339" y="112.196" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="624">transfer(subject: &quot;get&quot;, body: {&quot;type&quot;: &quot;hashed-password&quot;, &quot;auth-id&quot;: $username})</text><path fill="#FBFB77" d="M898.8,133.875 L898.8,163.875 L1063.2,163.875 L1063.2,145.875 L1051.2,133.875 L898.8,133.875" filter="url(#f1qbr6ythy67tc)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M1051.2,133.875 L1051.2,145.875 L1063.2,145.875 L1051.2,133.875" style="stroke:#a80036;stroke-width:1.2"/><text x="906" y="154.355" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="139.2">lookup credentials</text><polygon fill="#A80036" points="343.8 195.394 331.8 200.194 343.8 204.994 339 200.194" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="336.6" x2="982.2" y1="200.194" y2="200.194"/><text x="351" y="194.115" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="310.8">transfer(status: &quot;200&quot;, body: credentials)</text><path fill="#FBFB77" d="M70.8,215.7938 L70.8,263.7938 L573.6,263.7938 L573.6,227.7938 L561.6,215.7938 L70.8,215.7938" filter="url(#f1qbr6ythy67tc)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M561.6,215.7938 L561.6,227.7938 L573.6,227.7938 L561.6,215.7938" style="stroke:#a80036;stroke-width:1.2"/><text x="78" y="236.274" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="349.2">1.) Apply (salted) hash-algorithm to password</text><text x="78" y="254.433" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="477.6">2.) Compare result with the hashed-password from credentials</text><polygon fill="#A80036" points="61.8 295.472 49.8 300.272 61.8 305.072 57 300.272" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="54.6" x2="323.4" y1="300.272" y2="300.272"/><text x="69" y="294.193" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="78">CONNACK</text></g></svg>