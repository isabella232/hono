<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="847.2" height="390" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:847px;height:390px" preserveAspectRatio="none" version="1.1" viewBox="0 0 847 390" zoomAndPan="magnify"><defs><filter id="f5fhc5i4jav5v" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="136.397" x="688.2" y="83.316" fill="#FFF" filter="url(#f5fhc5i4jav5v)"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="43.2" x2="43.2" y1="45.956" y2="342.75"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="694.2" x2="694.2" y1="45.956" y2="342.75"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="63.6" height="36.356" x="9.6" y="3.6" fill="#FEFECE" filter="url(#f5fhc5i4jav5v)"/><text x="18" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="46.8">Client</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="63.6" height="36.356" x="9.6" y="341.55" fill="#FEFECE" filter="url(#f5fhc5i4jav5v)"/><text x="18" y="365.544" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="46.8">Client</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="242.4" height="36.356" x="570.6" y="3.6" fill="#FEFECE" filter="url(#f5fhc5i4jav5v)"/><text x="579" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="225.6">Device Registration Service</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="242.4" height="36.356" x="570.6" y="341.55" fill="#FEFECE" filter="url(#f5fhc5i4jav5v)"/><text x="579" y="365.544" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="225.6">Device Registration Service</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="136.397" x="688.2" y="83.316" fill="#FFF" filter="url(#f5fhc5i4jav5v)"/><polygon fill="#A80036" points="673.8 78.516 685.8 83.316 673.8 88.116 678.6 83.316" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="43.8" x2="681" y1="83.316" y2="83.316"/><text x="52.2" y="77.237" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="367.2">transfer(subject: &quot;assert&quot;, device-id, gateway-id)</text><path fill="#FBFB77" d="M549.6,98.9156 L549.6,182.9156 L832.8,182.9156 L832.8,110.9156 L820.8,98.9156 L549.6,98.9156" filter="url(#f5fhc5i4jav5v)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M820.8,98.9156 L820.8,110.9156 L832.8,110.9156 L820.8,98.9156" style="stroke:#a80036;stroke-width:1.2"/><text x="556.8" y="119.396" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="76.8">verify that</text><text x="556.8" y="137.555" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="202.8">- device and gateway exist</text><text x="556.8" y="155.715" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="258">- device and gateway are enabled</text><text x="556.8" y="173.874" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="256.8">- gateway is authorized for device</text><polygon fill="#A80036" points="57 214.912 45 219.713 57 224.512 52.2 219.713" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="49.8" x2="693" y1="219.713" y2="219.713"/><text x="64.2" y="213.633" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="615.6">transfer(status: &quot;200&quot;, content-type: &quot;application/json&quot;, body: registration status)</text><path fill="#FBFB77" d="M49.2,235.3125 L49.2,319.3125 L247.2,319.3125 L247.2,247.3125 L235.2,235.3125 L49.2,235.3125" filter="url(#f5fhc5i4jav5v)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M235.2,235.3125 L235.2,247.3125 L247.2,247.3125 L235.2,235.3125" style="stroke:#a80036;stroke-width:1.2"/><text x="56.4" y="255.793" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="172.8">JSON payload contains</text><text x="56.4" y="273.952" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="79.2">- device-id</text><text x="56.4" y="292.111" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="110.4">- via (optional)</text><text x="56.4" y="310.271" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="150">- defaults (optional)</text></g></svg>