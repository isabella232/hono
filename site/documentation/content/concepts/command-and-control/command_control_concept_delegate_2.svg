<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1296" height="643.2" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1296px;height:643px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1296 643" zoomAndPan="magnify"><defs><filter id="ffihz7kya2wlh" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1.2" width="708" height="617.1" x="201.6" y="4.8" fill="#DDD"/><text x="532.8" y="19.28" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.6">Hono</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="159.356" x="451.8" y="316.706" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="53.119" x="809.4" y="369.825" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="53.119" x="996.6" y="476.063" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><rect style="stroke:#000;stroke-width:2.4" width="1267.2" height="498.628" x="15.6" y="110.072" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="66" x2="66" y1="89.672" y2="629.1"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="285.6" x2="285.6" y1="89.672" y2="629.1"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="457.2" x2="457.2" y1="89.672" y2="629.1"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="814.8" x2="814.8" y1="89.672" y2="629.1"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="1002" x2="1002" y1="89.672" y2="629.1"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="1214.4" x2="1214.4" y1="89.672" y2="629.1"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="27.6" y="47.316" fill="#FEFECE" filter="url(#ffihz7kya2wlh)"/><text x="36" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="154.8" height="55.913" x="206.4" y="27.759" fill="#FEFECE" filter="url(#ffihz7kya2wlh)"/><text x="214.8" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="138">Protocol Adapter</text><text x="233.4" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="100.8">instance #1</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="154.8" height="55.913" x="378" y="27.759" fill="#FEFECE" filter="url(#ffihz7kya2wlh)"/><text x="386.4" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="138">Protocol Adapter</text><text x="405" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="100.8">instance #2</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="174" height="55.913" x="726" y="27.759" fill="#FEFECE" filter="url(#ffihz7kya2wlh)"/><text x="734.4" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="157.2">Device Connection</text><text x="750" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="126">API component</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="166.8" height="55.913" x="916.8" y="27.759" fill="#FEFECE" filter="url(#ffihz7kya2wlh)"/><text x="925.2" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="145.2">AMQP messaging</text><text x="966.6" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="67.2">network</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="106.8" height="36.356" x="1159.2" y="47.316" fill="#FEFECE" filter="url(#ffihz7kya2wlh)"/><text x="1167.6" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="90">Application</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="159.356" x="451.8" y="316.706" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="53.119" x="809.4" y="369.825" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="53.119" x="996.6" y="476.063" fill="#FFF" filter="url(#ffihz7kya2wlh)"/><path fill="#EEE" d="M15.6,110.0719 L242.4,110.0719 L242.4,118.4719 L230.4,130.4719 L15.6,130.4719 L15.6,110.0719" style="stroke:#000;stroke-width:1.2"/><rect style="stroke:#000;stroke-width:2.4" width="1267.2" height="498.628" x="15.6" y="110.072" fill="none"/><text x="33.6" y="125.752" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172.8">Command handling</text><polygon fill="#A80036" points="1015.8 187.509 1003.8 192.309 1015.8 197.109 1011 192.309" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="1008.6" x2="1213.8" y1="192.309" y2="192.309"/><text x="1023" y="168.071" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">1</text><text x="1038.6" y="149.911" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="133.2">attach(&quot;receiver&quot;,</text><text x="1038.6" y="168.071" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="168">&quot;command_response/</text><text x="1043.4" y="186.23" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="157.2">TENANT/${replyId}&quot;)</text><polygon fill="#A80036" points="1015.8 240.628 1003.8 245.428 1015.8 250.228 1011 245.428" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="1008.6" x2="1213.8" y1="245.428" y2="245.428"/><text x="1023" y="230.269" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">2</text><text x="1038.6" y="221.19" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8">attach(&quot;sender&quot;,</text><text x="1038.6" y="239.349" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="162">&quot;command/TENANT&quot;)</text><polygon fill="#A80036" points="477 311.906 465 316.706 477 321.506 472.2 316.706" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="469.8" x2="1213.8" y1="316.706" y2="316.706"/><text x="484.2" y="292.468" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">3</text><text x="499.8" y="274.308" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="226.8">transfer(&quot;command/TENANT&quot;,</text><text x="504.6" y="292.468" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="310.8">&quot;command/TENANT/4711&quot;,&quot;${payload}&quot;)</text><text x="514.2" y="310.627" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="225.6">via AMQP messaging network</text><polygon fill="#A80036" points="795 365.025 807 369.825 795 374.625 799.8 369.825" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="463.8" x2="802.2" y1="369.825" y2="369.825"/><text x="472.2" y="354.666" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">4</text><text x="487.8" y="345.587" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="242.4">get command handling adapter</text><text x="487.8" y="363.746" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="195.6">instances for device 4711</text><polygon fill="#A80036" points="477 418.144 465 422.944 477 427.744 472.2 422.944" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:2,2" x1="469.8" x2="814.2" y1="422.944" y2="422.944"/><text x="484.2" y="407.785" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">5</text><text x="499.8" y="398.705" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="296.4">JSON containing adapter instance &quot;#1&quot;</text><text x="499.8" y="416.865" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="236.4">handling commands for &quot;4711&quot;</text><polygon fill="#A80036" points="982.2 471.262 994.2 476.063 982.2 480.863 987 476.063" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="457.8" x2="989.4" y1="476.063" y2="476.063"/><text x="466.2" y="460.904" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">6</text><text x="481.8" y="451.824" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="254.4">transfer(&quot;command_internal/#1&quot;,</text><text x="486.6" y="469.983" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="310.8">&quot;command/TENANT/4711&quot;,&quot;${payload}&quot;)</text><polygon fill="#A80036" points="299.4 524.381 287.4 529.181 299.4 533.981 294.6 529.181" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="292.2" x2="1001.4" y1="529.181" y2="529.181"/><text x="306.6" y="514.023" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">7</text><text x="322.2" y="504.943" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="254.4">transfer(&quot;command_internal/#1&quot;,</text><text x="327" y="523.102" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="310.8">&quot;command/TENANT/4711&quot;,&quot;${payload}&quot;)</text><polygon fill="#A80036" points="79.8 559.341 67.8 564.141 79.8 568.941 75 564.141" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="72.6" x2="285" y1="564.141" y2="564.141"/><text x="87" y="558.062" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">8</text><text x="102.6" y="558.062" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="175.2">Command is published</text><polygon fill="#A80036" points="1200.6 594.3 1212.6 599.1 1200.6 603.9 1205.4 599.1" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="286.2" x2="1207.8" y1="599.1" y2="599.1"/><text x="294.6" y="593.021" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">9</text><text x="310.2" y="593.021" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="411.6">disposition(&quot;accepted&quot;) via AMQP messaging network</text></g></svg>