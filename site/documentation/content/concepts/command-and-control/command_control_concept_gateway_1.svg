<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1095.6" height="578.4" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1095px;height:578px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1095 578" zoomAndPan="magnify"><defs><filter id="fxufgiin6qiiw" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1.2" width="420" height="553.022" x="294" y="4.8" fill="#DDD"/><text x="481.2" y="19.28" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.6">Hono</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="231.675" x="372.6" y="322.547" fill="#FFF" filter="url(#fxufgiin6qiiw)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="19.2" x="1008.6" y="535.022" fill="#FFF" filter="url(#fxufgiin6qiiw)"/><rect style="stroke:#000;stroke-width:2.4" width="1068" height="351.272" x="14.4" y="193.35" fill="#FFF" filter="url(#fxufgiin6qiiw)"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="156" x2="156" y1="89.672" y2="565.022"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="378" x2="378" y1="89.672" y2="565.022"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="619.2" x2="619.2" y1="89.672" y2="565.022"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="806.4" x2="806.4" y1="89.672" y2="565.022"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="1014" x2="1014" y1="89.672" y2="565.022"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="87.6" height="36.356" x="110.4" y="47.316" fill="#FEFECE" filter="url(#fxufgiin6qiiw)"/><text x="118.8" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="70.8">Gateway</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="154.8" height="55.913" x="298.8" y="27.759" fill="#FEFECE" filter="url(#fxufgiin6qiiw)"/><text x="307.2" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="138">Protocol Adapter</text><text x="325.8" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="100.8">instance #1</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="174" height="55.913" x="530.4" y="27.759" fill="#FEFECE" filter="url(#fxufgiin6qiiw)"/><text x="538.8" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="157.2">Device Connection</text><text x="554.4" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="126">API component</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="166.8" height="55.913" x="721.2" y="27.759" fill="#FEFECE" filter="url(#fxufgiin6qiiw)"/><text x="729.6" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="145.2">AMQP messaging</text><text x="771" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="67.2">network</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="106.8" height="36.356" x="958.8" y="47.316" fill="#FEFECE" filter="url(#fxufgiin6qiiw)"/><text x="967.2" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="90">Application</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="231.675" x="372.6" y="322.547" fill="#FFF" filter="url(#fxufgiin6qiiw)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="19.2" x="1008.6" y="535.022" fill="#FFF" filter="url(#fxufgiin6qiiw)"/><path fill="#FBFB77" d="M28.8,107.6719 L28.8,173.6719 L279.6,173.6719 L279.6,119.6719 L267.6,107.6719 L28.8,107.6719" filter="url(#fxufgiin6qiiw)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M267.6,107.6719 L267.6,119.6719 L279.6,119.6719 L267.6,107.6719" style="stroke:#a80036;stroke-width:1.2"/><text x="36" y="128.152" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="160.8">The gateway &apos;gw-1&apos; is</text><text x="36" y="146.311" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="225.6">connected and authenticated</text><text x="36" y="164.471" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="136.8">with TENANT/gw-1</text><path fill="#EEE" d="M14.4,193.35 L273.6,193.35 L273.6,201.75 L261.6,213.75 L14.4,213.75 L14.4,193.35" style="stroke:#000;stroke-width:1.2"/><rect style="stroke:#000;stroke-width:2.4" width="1068" height="351.272" x="14.4" y="193.35" fill="none"/><text x="32.4" y="209.03" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205.2">Command subscription</text><path fill="#FBFB77" d="M26.4,219.9094 L26.4,267.9094 L280.8,267.9094 L280.8,231.9094 L268.8,219.9094 L26.4,219.9094" filter="url(#fxufgiin6qiiw)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M268.8,219.9094 L268.8,231.9094 L280.8,231.9094 L268.8,219.9094" style="stroke:#a80036;stroke-width:1.2"/><text x="33.6" y="240.39" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="182.4">The gateway subscribes</text><text x="33.6" y="258.549" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="229.2">to commands for device 4711</text><polygon fill="#A80036" points="358.2 317.747 370.2 322.547 358.2 327.347 363 322.547" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="156.6" x2="365.4" y1="322.547" y2="322.547"/><text x="165" y="307.388" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">1</text><text x="180.6" y="298.308" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="177.6">Command subscription</text><text x="185.4" y="316.468" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="102">/ TTD request</text><polygon fill="#A80036" points="792.6 352.706 804.6 357.506 792.6 362.306 797.4 357.506" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="384.6" x2="799.8" y1="357.506" y2="357.506"/><text x="393" y="351.427" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">2</text><text x="408.6" y="351.427" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="300">attach(&quot;receiver&quot;, &quot;command/TENANT&quot;)</text><polygon fill="#A80036" points="605.4 442.144 617.4 446.944 605.4 451.744 610.2 446.944" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="384.6" x2="612.6" y1="446.944" y2="446.944"/><text x="393" y="413.626" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">3</text><text x="408.6" y="386.387" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="176.4">set command handling</text><text x="408.6" y="404.546" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="129.6">adapter instance</text><text x="408.6" y="422.705" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="117.6">for device 4711</text><text x="408.6" y="440.865" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="177.6">to adapter instance #1</text><polygon fill="#A80036" points="605.4 495.262 617.4 500.063 605.4 504.863 610.2 500.063" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="384.6" x2="612.6" y1="500.063" y2="500.063"/><text x="393" y="484.904" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">4</text><text x="408.6" y="475.824" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="177.6">set last known gateway</text><text x="408.6" y="493.983" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="190.8">for device 4711 to &quot;gw-1&quot;</text><polygon fill="#A80036" points="994.2 530.222 1006.2 535.022 994.2 539.822 999 535.022" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="384.6" x2="1001.4" y1="535.022" y2="535.022"/><text x="393" y="528.943" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">5</text><text x="408.6" y="528.943" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="585.6">transfer(&quot;event/TENANT&quot;,&quot;4711&quot;,&quot;ttd=${ttd}&quot;) via AMQP messaging network</text></g></svg>