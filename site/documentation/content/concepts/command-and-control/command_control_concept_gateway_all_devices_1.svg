<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1074" height="543.6" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1074px;height:543px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1074 543" zoomAndPan="magnify"><defs><filter id="f1jklk7noazmnx" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1.2" width="410.4" height="518.063" x="274.8" y="4.8" fill="#DDD"/><text x="457.2" y="19.28" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.6">Hono</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="178.556" x="353.4" y="340.706" fill="#FFF" filter="url(#f1jklk7noazmnx)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="19.2" x="987" y="500.063" fill="#FFF" filter="url(#f1jklk7noazmnx)"/><rect style="stroke:#000;stroke-width:2.4" width="1041.6" height="316.313" x="19.2" y="193.35" fill="#FFF" filter="url(#f1jklk7noazmnx)"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="136.8" x2="136.8" y1="89.672" y2="530.063"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="358.8" x2="358.8" y1="89.672" y2="530.063"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="590.4" x2="590.4" y1="89.672" y2="530.063"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="777.6" x2="777.6" y1="89.672" y2="530.063"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="992.4" x2="992.4" y1="89.672" y2="530.063"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="87.6" height="36.356" x="91.2" y="47.316" fill="#FEFECE" filter="url(#f1jklk7noazmnx)"/><text x="99.6" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="70.8">Gateway</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="154.8" height="55.913" x="279.6" y="27.759" fill="#FEFECE" filter="url(#f1jklk7noazmnx)"/><text x="288" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="138">Protocol Adapter</text><text x="306.6" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="100.8">instance #1</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="174" height="55.913" x="501.6" y="27.759" fill="#FEFECE" filter="url(#f1jklk7noazmnx)"/><text x="510" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="157.2">Device Connection</text><text x="525.6" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="126">API component</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="166.8" height="55.913" x="692.4" y="27.759" fill="#FEFECE" filter="url(#f1jklk7noazmnx)"/><text x="700.8" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="145.2">AMQP messaging</text><text x="742.2" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="67.2">network</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="106.8" height="36.356" x="937.2" y="47.316" fill="#FEFECE" filter="url(#f1jklk7noazmnx)"/><text x="945.6" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="90">Application</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="178.556" x="353.4" y="340.706" fill="#FFF" filter="url(#f1jklk7noazmnx)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="19.2" x="987" y="500.063" fill="#FFF" filter="url(#f1jklk7noazmnx)"/><path fill="#FBFB77" d="M9.6,107.6719 L9.6,173.6719 L260.4,173.6719 L260.4,119.6719 L248.4,107.6719 L9.6,107.6719" filter="url(#f1jklk7noazmnx)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M248.4,107.6719 L248.4,119.6719 L260.4,119.6719 L248.4,107.6719" style="stroke:#a80036;stroke-width:1.2"/><text x="16.8" y="128.152" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="160.8">The gateway &apos;gw-1&apos; is</text><text x="16.8" y="146.311" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="225.6">connected and authenticated</text><text x="16.8" y="164.471" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="136.8">with TENANT/gw-1</text><path fill="#EEE" d="M19.2,193.35 L278.4,193.35 L278.4,201.75 L266.4,213.75 L19.2,213.75 L19.2,193.35" style="stroke:#000;stroke-width:1.2"/><rect style="stroke:#000;stroke-width:2.4" width="1041.6" height="316.313" x="19.2" y="193.35" fill="none"/><text x="37.2" y="209.03" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205.2">Command subscription</text><path fill="#FBFB77" d="M31.2,219.9094 L31.2,285.9094 L238.8,285.9094 L238.8,231.9094 L226.8,219.9094 L31.2,219.9094" filter="url(#f1jklk7noazmnx)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M226.8,219.9094 L226.8,231.9094 L238.8,231.9094 L226.8,219.9094" style="stroke:#a80036;stroke-width:1.2"/><text x="38.4" y="240.39" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="182.4">The gateway subscribes</text><text x="38.4" y="258.549" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="176.4">to commands just as a</text><text x="38.4" y="276.708" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="156">normal device would</text><polygon fill="#A80036" points="339 335.906 351 340.706 339 345.506 343.8 340.706" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="137.4" x2="346.2" y1="340.706" y2="340.706"/><text x="145.8" y="325.548" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">0</text><text x="161.4" y="316.468" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="177.6">Command subscription</text><text x="166.2" y="334.627" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="102">/ TTD request</text><polygon fill="#A80036" points="763.8 370.866 775.8 375.666 763.8 380.466 768.6 375.666" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="365.4" x2="771" y1="375.666" y2="375.666"/><text x="373.8" y="369.587" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">1</text><text x="389.4" y="369.587" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="300">attach(&quot;receiver&quot;, &quot;command/TENANT&quot;)</text><polygon fill="#A80036" points="576.6 460.303 588.6 465.103 576.6 469.903 581.4 465.103" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="365.4" x2="583.8" y1="465.103" y2="465.103"/><text x="373.8" y="431.785" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">2</text><text x="389.4" y="404.546" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="176.4">set command handling</text><text x="389.4" y="422.705" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="129.6">adapter instance</text><text x="389.4" y="440.865" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="122.4">for device &apos;gw-1&apos;</text><text x="389.4" y="459.024" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="177.6">to adapter instance #1</text><polygon fill="#A80036" points="972.6 495.262 984.6 500.063 972.6 504.863 977.4 500.063" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="365.4" x2="979.8" y1="500.063" y2="500.063"/><text x="373.8" y="493.983" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8">3</text><text x="389.4" y="493.983" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="583.2">transfer(&quot;event/TENANT&quot;,&quot;gw-1&quot;,&quot;ttd=${ttd}&quot;) via AMQP messaging network</text></g></svg>