<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1734" height="740.4" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1734px;height:740px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1734 740" zoomAndPan="magnify"><defs><filter id="fnzp9xyiux0bi" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="361.2" x2="361.2" y1="45.956" y2="692.184"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="657" x2="657" y1="45.956" y2="692.184"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="1152.6" x2="1152.6" y1="45.956" y2="692.184"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="1458" x2="1458" y1="45.956" y2="692.184"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="322.8" y="3.6" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="331.2" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="322.8" y="690.984" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="331.2" y="714.979" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="204" height="36.356" x="552.6" y="3.6" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="561" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="187.2">HTTP Protocol Adapter</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="204" height="36.356" x="552.6" y="690.984" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="561" y="714.979" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="187.2">HTTP Protocol Adapter</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="170.4" height="36.356" x="1065" y="3.6" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="1073.4" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="153.6">AMQP 1.0 Network</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="170.4" height="36.356" x="1065" y="690.984" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="1073.4" y="714.979" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="153.6">AMQP 1.0 Network</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="198" height="36.356" x="1357.2" y="3.6" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="1365.6" y="27.594" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="181.2">Consumer Application</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="198" height="36.356" x="1357.2" y="690.984" fill="#FEFECE" filter="url(#fnzp9xyiux0bi)"/><text x="1365.6" y="714.979" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="181.2">Consumer Application</text><path fill="#FBFB77" d="M9.6,63.9563 L9.6,111.9563 L351.6,111.9563 L351.6,75.9563 L339.6,63.9563 L9.6,63.9563" filter="url(#fnzp9xyiux0bi)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M339.6,63.9563 L339.6,75.9563 L351.6,75.9563 L339.6,63.9563" style="stroke:#a80036;stroke-width:1.2"/><text x="16.8" y="84.436" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="316.8">sending telemetry data with explicit value</text><text x="16.8" y="102.596" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="188.4">for ttd set to 60 seconds</text><polygon fill="#A80036" points="642.6 143.634 654.6 148.434 642.6 153.234 647.4 148.434" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="361.8" x2="649.8" y1="148.434" y2="148.434"/><text x="370.2" y="142.355" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="266.4">telemetry(hono-ttd=&quot;60&quot;, payload)</text><path fill="#FBFB77" d="M139.2,164.0344 L139.2,212.0344 L578.4,212.0344 L578.4,176.0344 L566.4,164.0344 L139.2,164.0344" filter="url(#fnzp9xyiux0bi)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M566.4,164.0344 L566.4,176.0344 L578.4,176.0344 L566.4,164.0344" style="stroke:#a80036;stroke-width:1.2"/><text x="146.4" y="184.515" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="414">The HTTP specific header &quot;hono-ttd&quot; is used to provide</text><text x="146.4" y="202.674" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="270">the value for ttd by the device itself</text><path fill="#FBFB77" d="M476.4,229.1531 L476.4,313.1531 L831.6,313.1531 L831.6,241.1531 L819.6,229.1531 L476.4,229.1531" filter="url(#fnzp9xyiux0bi)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M819.6,229.1531 L819.6,241.1531 L831.6,241.1531 L819.6,229.1531" style="stroke:#a80036;stroke-width:1.2"/><text x="483.6" y="249.633" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="193.2">Set AMQP 1.0 properties:</text><text x="483.6" y="267.793" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="157.2">tenant-id: &quot;TENANT&quot;,</text><text x="483.6" y="285.952" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="133.2">device-id: &quot;4711&quot;,</text><text x="483.6" y="304.111" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="330">creation-time: NOW (in epoch milliseconds)</text><polygon fill="#A80036" points="1138.2 345.15 1150.2 349.95 1138.2 354.75 1143 349.95" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="657" x2="1145.4" y1="349.95" y2="349.95"/><text x="665.4" y="343.871" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="466.8">1.0 transfer(&quot;telemetry/TENANT&quot;, &quot;4711&quot;, , creation-time, ttd)</text><polygon fill="#A80036" points="1444.2 380.109 1456.2 384.909 1444.2 389.709 1449 384.909" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="1152.6" x2="1451.4" y1="384.909" y2="384.909"/><text x="1161" y="378.83" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="277.2">1.2 transfer(&quot;telemetry/TENANT&quot;, ...)</text><polygon fill="#A80036" points="1165.8 415.069 1153.8 419.869 1165.8 424.669 1161 419.869" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="1158.6" x2="1457.4" y1="419.869" y2="419.869"/><text x="1173" y="413.79" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="205.2">2.0 disposition(&quot;accepted&quot;)</text><polygon fill="#A80036" points="670.2 450.028 658.2 454.828 670.2 459.628 665.4 454.828" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="663" x2="1151.4" y1="454.828" y2="454.828"/><text x="677.4" y="448.749" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="205.2">2.0 disposition(&quot;accepted&quot;)</text><polygon fill="#A80036" points="375 484.988 363 489.788 375 494.587 370.2 489.788" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="367.8" x2="655.8" y1="489.788" y2="489.788"/><text x="382.2" y="483.708" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="177.6">HTTP/1.1 202 Accepted</text><path fill="#FBFB77" d="M1324.8,505.3875 L1324.8,535.3875 L1586.4,535.3875 L1586.4,517.3875 L1574.4,505.3875 L1324.8,505.3875" filter="url(#fnzp9xyiux0bi)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M1574.4,505.3875 L1574.4,517.3875 L1586.4,517.3875 L1574.4,505.3875" style="stroke:#a80036;stroke-width:1.2"/><text x="1332" y="525.868" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="236.4">Processing the telemetry data.</text><line style="stroke:#a80036;stroke-width:1.2" x1="1458.6" x2="1509" y1="571.706" y2="571.706"/><line style="stroke:#a80036;stroke-width:1.2" x1="1509" x2="1509" y1="571.706" y2="587.306"/><line style="stroke:#a80036;stroke-width:1.2" x1="1459.8" x2="1509" y1="587.306" y2="587.306"/><polygon fill="#A80036" points="1471.8 582.506 1459.8 587.306 1471.8 592.106 1467 587.306" style="stroke:#a80036;stroke-width:1.2"/><text x="1467" y="565.627" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="253.2">callbackIfValid(creation-time, ttd)</text><path fill="#FBFB77" d="M1244.4,602.9063 L1244.4,668.9063 L1666.8,668.9063 L1666.8,614.9063 L1654.8,602.9063 L1244.4,602.9063" filter="url(#fnzp9xyiux0bi)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M1654.8,602.9063 L1654.8,614.9063 L1666.8,614.9063 L1654.8,602.9063" style="stroke:#a80036;stroke-width:1.2"/><text x="1251.6" y="623.386" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="397.2">React if message indicates that currently the device</text><text x="1251.6" y="641.546" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="237.6">is ready to receive a command</text><text x="1251.6" y="659.705" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="271.2">(e.g. by trying to send a command)</text></g></svg>