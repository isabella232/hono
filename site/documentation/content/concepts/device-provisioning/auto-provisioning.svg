<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1238.4" height="787.2" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1238px;height:787px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1238 787" zoomAndPan="magnify"><defs><filter id="f10qk0o7i5gq0t" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1.2" width="461.4" height="769.5" x="672" y="4.8" fill="#DDD"/><text x="833.7" y="19.28" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138">Device Registry</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="570.956" x="273" y="127.031" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="34.959" x="711" y="213.75" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="34.959" x="854.4" y="652.228" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="168.956" x="1065" y="335.428" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#000;stroke-width:2.4" width="1049.4" height="213.281" x="162.6" y="353.428" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:none;stroke-width:1.2" width="1049.4" height="52.725" x="162.6" y="513.984" fill="#FFF"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="48" x2="48" y1="89.672" y2="708.788"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="279" x2="279" y1="89.672" y2="708.788"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="716.4" x2="716.4" y1="89.672" y2="708.788"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="860.4" x2="860.4" y1="89.672" y2="708.788"/><line style="stroke:#a80036;stroke-width:1.2;stroke-dasharray:5,5" x1="1071" x2="1071" y1="89.672" y2="708.788"/><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="9.6" y="47.316" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="18" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="73.2" height="36.356" x="9.6" y="707.587" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="18" y="731.582" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="56.4">Device</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="204" height="36.356" x="174.6" y="47.316" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="183" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="187.2">Hono Protocol Adapter</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="204" height="36.356" x="174.6" y="707.587" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="183" y="731.582" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="187.2">Hono Protocol Adapter</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="75.6" height="55.913" x="676.8" y="27.759" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="685.2" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="58.8">Tenant</text><text x="702" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="25.2">API</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="75.6" height="55.913" x="676.8" y="707.587" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="685.2" y="731.582" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="58.8">Tenant</text><text x="702" y="751.138" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="25.2">API</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="177.6" height="55.913" x="769.2" y="27.759" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="777.6" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="160.8">Device Registration</text><text x="845.4" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="25.2">API</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="177.6" height="55.913" x="769.2" y="707.587" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="777.6" y="731.582" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="160.8">Device Registration</text><text x="845.4" y="751.138" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="25.2">API</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="110.4" height="55.913" x="1013.4" y="27.759" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="1021.8" y="51.754" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="93.6">Credentials</text><text x="1056" y="71.31" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="25.2">API</text><rect style="stroke:#a80036;stroke-width:1.7999999999999998" width="110.4" height="55.913" x="1013.4" y="707.587" fill="#FEFECE" filter="url(#f10qk0o7i5gq0t)"/><text x="1021.8" y="731.582" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="93.6">Credentials</text><text x="1056" y="751.138" fill="#000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="25.2">API</text><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="570.956" x="273" y="127.031" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="34.959" x="711" y="213.75" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="34.959" x="854.4" y="652.228" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><rect style="stroke:#a80036;stroke-width:1.2" width="12" height="168.956" x="1065" y="335.428" fill="#FFF" filter="url(#f10qk0o7i5gq0t)"/><polygon fill="#A80036" points="258.6 122.231 270.6 127.031 258.6 131.831 263.4 127.031" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="48.6" x2="265.8" y1="127.031" y2="127.031"/><text x="57" y="120.952" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="201.6">connect(X.509 Client Cert)</text><rect style="stroke:#eee;stroke-width:1.2" width="1221" height="3.6" x="3.6" y="161.311" fill="#EEE" filter="url(#f10qk0o7i5gq0t)"/><line style="stroke:#000;stroke-width:1.2" x1="3.6" x2="1224.6" y1="161.311" y2="161.311"/><line style="stroke:#000;stroke-width:1.2" x1="3.6" x2="1224.6" y1="164.911" y2="164.911"/><rect style="stroke:#000;stroke-width:2.4" width="140.4" height="27.759" x="543.9" y="148.631" fill="#EEE" filter="url(#f10qk0o7i5gq0t)"/><text x="551.1" y="167.911" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117.6">Query Tenant</text><polygon fill="#A80036" points="696.6 208.95 708.6 213.75 696.6 218.55 701.4 213.75" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="285" x2="703.8" y1="213.75" y2="213.75"/><text x="293.4" y="207.671" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="403.2">transfer(subject: &quot;get&quot;, body: {&quot;subject-dn&quot;: $caDN})</text><polygon fill="#A80036" points="298.2 243.909 286.2 248.709 298.2 253.509 293.4 248.709" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="291" x2="715.8" y1="248.709" y2="248.709"/><text x="305.4" y="242.63" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="333.6">transfer(status: &quot;200&quot;, ..., body: tenant info)</text><rect style="stroke:#eee;stroke-width:1.2" width="1221" height="3.6" x="3.6" y="282.989" fill="#EEE" filter="url(#f10qk0o7i5gq0t)"/><line style="stroke:#000;stroke-width:1.2" x1="3.6" x2="1224.6" y1="282.989" y2="282.989"/><line style="stroke:#000;stroke-width:1.2" x1="3.6" x2="1224.6" y1="286.589" y2="286.589"/><rect style="stroke:#000;stroke-width:2.4" width="181.2" height="27.759" x="523.5" y="270.309" fill="#EEE" filter="url(#f10qk0o7i5gq0t)"/><text x="530.7" y="289.59" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158.4">Query Credentials</text><polygon fill="#A80036" points="1050.6 330.628 1062.6 335.428 1050.6 340.228 1055.4 335.428" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="285" x2="1057.8" y1="335.428" y2="335.428"/><text x="293.4" y="329.349" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="757.2">transfer(subject: &quot;get&quot;, body: {&quot;type&quot;: &quot;x509-cert&quot;, &quot;auth-id&quot;: $subjectDN, &quot;client-certificate&quot;: $cert})</text><path fill="#EEE" d="M162.6,353.4281 L239.4,353.4281 L239.4,361.8281 L227.4,373.8281 L162.6,373.8281 L162.6,353.4281" style="stroke:#000;stroke-width:1.2"/><rect style="stroke:#000;stroke-width:2.4" width="1049.4" height="213.281" x="162.6" y="353.428" fill="none"/><text x="180.6" y="369.108" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22.8">alt</text><text x="257.4" y="368.081" fill="#000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88.8">[First Time]</text><line style="stroke:#a80036;stroke-width:1.2" x1="1077" x2="1127.4" y1="453.825" y2="453.825"/><line style="stroke:#a80036;stroke-width:1.2" x1="1127.4" x2="1127.4" y1="453.825" y2="469.425"/><line style="stroke:#a80036;stroke-width:1.2" x1="1078.2" x2="1127.4" y1="469.425" y2="469.425"/><polygon fill="#A80036" points="1090.2 464.625 1078.2 469.425 1090.2 474.225 1085.4 469.425" style="stroke:#a80036;stroke-width:1.2"/><text x="1085.4" y="393.268" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="51.6">Create</text><text x="1085.4" y="411.427" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="120">Credentials and</text><text x="1085.4" y="429.587" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="91.2">Registration</text><text x="1085.4" y="447.746" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="87.6">Information</text><path fill="#FBFB77" d="M706.8,409.0266 L706.8,439.0266 L1053.6,439.0266 L1053.6,421.0266 L1041.6,409.0266 L706.8,409.0266" filter="url(#f10qk0o7i5gq0t)" style="stroke:#a80036;stroke-width:1.2"/><path fill="#FBFB77" d="M1041.6,409.0266 L1041.6,421.0266 L1053.6,421.0266 L1041.6,409.0266" style="stroke:#a80036;stroke-width:1.2"/><text x="714" y="429.507" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="321.6">If device Registry does not find credentials</text><polygon fill="#A80036" points="298.2 499.584 286.2 504.384 298.2 509.184 293.4 504.384" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="291" x2="1069.8" y1="504.384" y2="504.384"/><text x="305.4" y="498.305" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="343.2">transfer(status: &quot;201&quot;, body: credentials info)</text><line style="stroke:#000;stroke-width:1.2;stroke-dasharray:2,2" x1="162.6" x2="1212" y1="515.184" y2="515.184"/><text x="168.6" y="527.437" fill="#000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159.6">[Following requests]</text><polygon fill="#A80036" points="298.2 552.309 286.2 557.109 298.2 561.909 293.4 557.109" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="291" x2="1069.8" y1="557.109" y2="557.109"/><text x="305.4" y="551.03" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="343.2">transfer(status: &quot;200&quot;, body: credentials info)</text><rect style="stroke:#eee;stroke-width:1.2" width="1221" height="3.6" x="3.6" y="599.789" fill="#EEE" filter="url(#f10qk0o7i5gq0t)"/><line style="stroke:#000;stroke-width:1.2" x1="3.6" x2="1224.6" y1="599.789" y2="599.789"/><line style="stroke:#000;stroke-width:1.2" x1="3.6" x2="1224.6" y1="603.389" y2="603.389"/><rect style="stroke:#000;stroke-width:2.4" width="296.4" height="27.759" x="465.9" y="587.109" fill="#EEE" filter="url(#f10qk0o7i5gq0t)"/><text x="473.1" y="606.39" fill="#000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="273.6">Query Registration Information</text><polygon fill="#A80036" points="840 647.428 852 652.228 840 657.028 844.8 652.228" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="285" x2="847.2" y1="652.228" y2="652.228"/><text x="293.4" y="646.149" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="274.8">transfer(subject: &quot;assert&quot;, device-id)</text><polygon fill="#A80036" points="298.2 682.388 286.2 687.188 298.2 691.987 293.4 687.188" style="stroke:#a80036;stroke-width:1.2"/><line style="stroke:#a80036;stroke-width:1.2" x1="291" x2="859.2" y1="687.188" y2="687.188"/><text x="305.4" y="681.108" fill="#000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="391.2">transfer(status: &quot;200&quot;, ..., body: registration status)</text></g></svg>